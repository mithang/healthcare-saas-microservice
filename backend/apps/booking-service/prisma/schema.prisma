generator client {
  provider = "prisma-client-js"
  output   = "../../node_modules/.prisma/client-booking-service"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Appointment {
  id           Int      @id @default(autoincrement())
  patientId    String
  patientName  String
  patientPhone String
  doctorId     String
  doctorName   String
  date         String   // Format: DD/MM/YYYY
  time         String   // Format: HH:mm
  service      String
  status       String   @default("pending") // pending, confirmed, completed, cancelled
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model LabTest {
  id           Int      @id @default(autoincrement())
  orderCode    String   @unique
  patientId    String
  patientName  String
  patientPhone String
  testType     String
  hospital     String
  fee          Float
  testDate     String
  status       String   @default("pending") // pending, processing, completed, cancelled
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model PharmacyOrder {
  id            Int      @id @default(autoincrement())
  code          String   @unique
  customerId    String
  customerName  String
  customerPhone String
  pharmacy      String
  itemsCount    Int
  totalAmount   Float
  date          String
  status        String   @default("pending") // pending, processing, shipping, completed, cancelled
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model RefundRequest {
  id            Int      @id @default(autoincrement())
  orderCode     String   @unique
  customerId    String
  customerName  String
  originalOrder String
  amount        Float
  reason        String
  requestDate   String
  status        String   @default("pending") // pending, approved, rejected
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}
